## 787. Cheapest Flights Within K Stops

### Dijkstra'

```java
class Solution {
    public int findCheapestPrice(int n, int[][] flights, int src, int dst, int K) {
        //create basic data structure    
        //Key : src, value : neighbors and cost
        Map<Integer, List<int[]>> map = new HashMap<>(); 
        for (int[] flight : flights) {
            List<int[]> nei = map.get(flight[0]);
            if (nei == null) {
                nei = new ArrayList<>();
                map.put(flight[0], nei);
            }
            nei.add(new int[] { flight[1], flight[2] });            
        }
        
        //Corner Case: return -1 if not flight start from src stop        
        if (!map.containsKey(src)) return -1;
        
        //[curStop, totalCost, stopsLeft]
        PriorityQueue<int[]> pq = new PriorityQueue<>((a, b) -> (a[1] - b[1]));    
        for (int[] neiCost : map.get(src)) {
            //put src neighbor stop and cost as start point
            pq.offer(new int[] { neiCost[0], neiCost[1], K });
        }
        
        while (!pq.isEmpty()) {
            int[] cur = pq.poll();
            int curStop = cur[0], cost = cur[1], stops = cur[2];
            if (stops < 0) continue; 
            if (curStop == dst) return cost;
            
            for (int[] next : map.get(curStop)) {
                pq.offer(new int[] { next[0], cost + next[1], stops - 1 });
            }            
        }
        
        return -1;        
    }
}
```
