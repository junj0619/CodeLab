## 787. Cheapest Flights Within K Stops

### Dijkstra'

```java
class Solution {
    public int findCheapestPrice(int n, int[][] flights, int src, int dst, int K) {
        //create basic data structure    
        //Key : src, value : neighbors and cost
        Map<Integer, Map<Integer, Integer>> map = new HashMap<>(); 
        for (int[] flight : flights) {
            Map<Integer, Integer> nei = map.get(flight[0]);
            if (nei == null) {
                nei = new HashMap<Integer, Integer>();
                map.put(flight[0], nei);
            }
            nei.put(flight[1], flight[2]);            
        }
        
        //return -1 if not flight start from src stop        
        if (!map.containsKey(src)) return -1;
        
        //[curStop, totalCost, stopsLeft]
        PriorityQueue<int[]> pq = new PriorityQueue<>((a, b) -> (a[1] - b[1]));    
        for (Map.Entry<Integer, Integer> neiCost : map.get(src).entrySet()) {
            //put src neighbor stop and cost as start point
            pq.offer(new int[] { neiCost.getKey(), neiCost.getValue(), K });
        }
        
        while (!pq.isEmpty()) {
            int[] cur = pq.poll();
            int curStop = cur[0], cost = cur[1], stops = cur[2];
            if (stops < 0) continue; 
            if (curStop == dst) return cost;
            
            for (Map.Entry<Integer, Integer> entry : map.get(curStop).entrySet()) {
                pq.offer(new int[] { entry.getKey(), cost + entry.getValue(), stops - 1 });
            }            
        }
        
        return -1;        
    }
}
```
