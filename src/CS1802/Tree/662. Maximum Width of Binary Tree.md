## 662. Maximum Width of Binary Tree



```java

/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public int widthOfBinaryTree(TreeNode root) {
        return getMaxWidth(root, 0, 1, new ArrayList<Integer>(), new ArrayList<Integer>());
    }
    
    private int getMaxWidth(TreeNode root, int lvl, int pos, List<Integer> start, List<Integer> end) {
        if (root == null) return 0;
        if (lvl == start.size()) { //accessing first node of that lvl
            start.add(pos);
            end.add(pos);
        } else {
            end.set(lvl, pos);
        }
        
        int curWidth = end.get(lvl) - start.get(lvl) + 1;
        //the next lvl maxWidth will be either return back from left/right
        //because when we access most right node from that lvl of tree, the most right node can be at left position or right
        //so that if that lvl of tree has multi nodes we are expecting the last node access will get back the maxWidth value of that lvl
        int left = getMaxWidth(root.left, lvl + 1, pos * 2, start, end);
        int right = getMaxWidth(root.right, lvl + 1, pos * 2 + 1, start, end);
        
        return Math.max(curWidth, Math.max(left, right));
    }
}


```
